================================================================================
UnitTests/SoarTestAgents/Chunking/tests/default/selection-astar/Impasse__Operator_Tie/selection.soar
================================================================================

#sp {Impasse__Operator_Tie*compare*selection*prefer*no*estimated-cost
#   :default
#   (state <s> ^name selection
#              ^operator <op1> +
#                        <op2> +)
#  -{(<s> ^operator <o1> +)
#    (<o1> ^name compare-evaluations)}  # Avoid this rule contributing to chunks when best preference.
#   (<op1> ^name evaluate-operator
#          ^superoperator <sop>)
#  -{(<s> ^evaluation <e>)
#    (<e> ^estimated-cost
#         ^path-cost
#         ^superoperator <sop>)}
#   (<op2> ^name evaluate-operator
#          ^superoperator <sop2>)
#   (<s> ^evaluation <e2>)
#   (<e2> ^superoperator <sop2>
#         ^estimated-cost)
#-->
#   (<s> ^operator <op1> > <op2>)
#}
#
#sp {Impasse__Operator_Tie*compare*selection*prefer*no*estimated-cost
#   :default
#   (state <s> ^name selection
#              ^operator <op1> +)
#  -{(<s> ^operator <o1> +)
#    (<o1> ^name compare-evaluations)}  # Avoid this rule contributing to chunks when best preference.
#   (<op1> ^name evaluate-operator
#          ^superoperator <sop>)
#  -{(<s> ^evaluation <e>)
#    (<e> ^estimated-cost
#         ^path-cost
#         ^superoperator <sop>)}
#-->
#   (<s> ^operator <op1> >)
#}
#
sp {Impasse__Operator_Tie*compare*selection*avoid*estimated-cost
   :default
   (state <s> ^name selection
              ^operator <op2> +)
  -{(<s> ^operator <o1> +)
    (<o1> ^name compare-evaluations)}  # Avoid this rule contributing to chunks when best preference.
   (<op2> ^name evaluate-operator
          ^superoperator <sop2>)
   (<s> ^evaluation <e2>)
   (<e2> ^superoperator <sop2>
         ^estimated-cost)
-->
   (<s> ^operator <op2> <)
}

sp {Impasse__Operator_Tie*compare*selection*prefer*lower*estimated-cost
   :default
   (state <s> ^name selection
              ^operator <op1> +
                        <op2> +)
   (<op1> ^name evaluate-operator
          ^superoperator <sop1>)
   (<s> ^evaluation <e1>)
   (<e1> ^superoperator <sop1>
          ^total-estimated-cost <ec>)
   (<op2> ^name evaluate-operator
          ^superoperator <sop2>)
   (<s> ^evaluation <e2>)
   (<e2> ^superoperator <sop2>
         ^total-estimated-cost > <ec>)
-->
   (<s> ^operator <op1> > <op2>)
#   (<s> ^operator <op2> -)
}

##
sp {Impasse__Operator_Tie*compare*selection*equal*estimated-cost
   :default
   (state <s> ^name selection
              ^operator <op1> +
                        { <> <op1> <op2> } +)
   (<op1> ^name evaluate-operator
          ^evaluation.total-estimated-cost <ec>)
   (<op2> ^name evaluate-operator
          ^evaluation.total-estimated-cost <ec>)
-->
   (<s> ^operator <op1> = <op2>)
}

sp {selection*select*failure-evaluation-becomes-reject-preference
   :default
   (state <s> ^name selection
              ^quiescence t
              ^superstate <ss>
              ^evaluation <e1>)
   (<ss> ^desired <e>)
   (<e1> ^symbolic-value << lose failure >>
         ^desired <e>
         ^superoperator <o1>)
-->
   (<ss> ^operator <o1> -)}


--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name)
      (flag))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (negativeCond
        (positiveCond
          (conjunctiveCond
            (cond
              (positiveCond
                (condsForOneId
                  (idTest
                    (test
                      (simpleTest
                        (singleTest
                          (variable)))))
                  (attrValueTests
                    (attrTest
                      (test
                        (simpleTest
                          (singleTest
                            (string)))))
                    (valueTest
                      (test
                        (simpleTest
                          (singleTest
                            (variable)))))))))
            (cond
              (positiveCond
                (condsForOneId
                  (idTest
                    (test
                      (simpleTest
                        (singleTest
                          (variable)))))
                  (attrValueTests
                    (attrTest
                      (test
                        (simpleTest
                          (singleTest
                            (string)))))
                    (valueTest
                      (test
                        (simpleTest
                          (singleTest
                            (string)))))))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (preferenceSpecifier
            (unaryPreference
              (unaryOrBinaryPreference)))))))
  (production
    (beginning
      (prod_name)
      (flag))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (variable))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (preferenceSpecifier
            (unaryOrBinaryPreference)
            (variable))))))
  (production
    (beginning
      (prod_name)
      (flag))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))
            (valueTest
              (test
                (conjunctiveTest
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable))))
                  (simpleTest
                    (singleTest
                      (variable))))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string))))
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string))))
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (preferenceSpecifier
            (unaryOrBinaryPreference)
            (variable))))))
  (production
    (beginning
      (prod_name)
      (flag))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (cond
      (positiveCond
        (condsForOneId
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (disjunctionTest
                    (string)
                    (string))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable))))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (variable)))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (preferenceSpecifier
            (unaryPreference)))))))
