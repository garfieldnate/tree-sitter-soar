================================================================================
UnitTests/SoarTestAgents/Chunking/tests/ChunkingTests_BUNCPS_7_with_Constraints.soar
================================================================================

srand 23
chunk always
chunk only

watch --learn 2

sp {all*elaborate*name
   (state <s> ^superstate.operator.name <name>)
-->
   (<s> ^name <name>)
}
sp {all*elaborate*topstate
   (state <s> ^superstate.topstate <ts>)
-->
   (<s> ^topstate <ts>)
}

sp {all*elaborate*condition
   (state <s> ^superstate.condition <co>)
-->
   (<s> ^condition <co>)
}

sp {init*state
   (state <s> ^superstate nil)
-->
   (<s> ^object <N712> 
        ^topstate <s>
        ^condition <cond>)
   (<cond> ^name valuation ^arg.result <N712>)
   (<N712> ^id 6 ^type block ^value 5)
}

sp {turn-learning-on
(state <s> ^superstate.superstate nil)
-->
    (force-learn <s>)
    (<s> ^name learn-state)
}
#after state-no change impasse
sp {eval-condition*propose*condition-match
    (state <s1> ^superstate.name learn-state ^condition <c1> ^superstate <ss>)
    (<c1> ^name <name>) 
    -->
    (<ss> ^operator <o1> + >)
    (<o1> ^name condition-match + ^type <name> +)
}

sp {condition-match*elaborate*matching-argument-object
(state <s> ^name condition-match
           ^topstate <ts>
           ^superstate <ss>)
    (<ss> ^condition <c> ^operator.type {<> 2 >= valuation <ya>}) 
    (<c> ^arg.result <o>)
    (<o> ^value <v2>)
-->
    (<ts> ^result <r>)
    (<r> ^<random> <v2>)
}


sp {propose*stop
   (state <s> ^result <a> 
              ^superstate nil)
-->
#    (success)
    (interrupt)
}
--------------------------------------------------------------------------------

(source_file
  (command
    (arg))
  (command
    (arg))
  (command
    (arg))
  (command
    (arg)
    (arg))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (string))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)))
      (attrValueMake
        (string)
        (valueMake
          (variable)))
      (attrValueMake
        (string)
        (valueMake
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string)))
      (attrValueMake
        (string)
        (valueMake
          (floatConstant))
        (valueMake
          (string))
        (valueMake
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string)))
      (attrValueMake
        (string)
        (valueMake
          (string)))
      (attrValueMake
        (string)
        (valueMake
          (string)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (string))))
    (funcCall
      (funcName
        (string))
      (variable))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (string)))
      (attrValueTests
        (string)
        (valueTest
          (variable)))
      (attrValueTests
        (string)
        (valueTest
          (variable))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (unaryPreference)
          (unaryPreference))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string)
          (unaryPreference)))
      (attrValueMake
        (string)
        (valueMake
          (variable)
          (unaryPreference)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (string)))
      (attrValueTests
        (string)
        (valueTest
          (variable)))
      (attrValueTests
        (string)
        (valueTest
          (variable))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (variable)))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (conjunctiveTest
            (relationalTest
              (relation)
              (string))
            (relationalTest
              (relation)
              (string))
            (variable)))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (variable))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (variable)
        (valueMake
          (variable)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (variable)))
      (attrValueTests
        (string)
        (valueTest
          (string))))
    (funcCall
      (funcName
        (string)))))
