================================================================================
UnitTests/SoarTestAgents/smem/SMemFunctionalTests_testSimpleCueBasedRetrieval.soar
================================================================================

smem --set learning on

# Add some data
smem --add {
  (<x> ^name Bill 
       ^email |billg@microsoft.com|)
  (<x> ^something else)
}

sp {propose*query
  (state <s> ^superstate nil 
             ^smem <smem>)
  (<smem> -^result.retrieved)
--> 
  (<s> ^operator.name query)
}

sp {apply*query
  (state <s> ^operator.name query
             ^smem.command <sc>)
-->
  (<sc> ^query.name Bill)
}

sp {success
  (state <s> ^smem.result.retrieved <lti>)
  (<lti> ^name Bill
         ^email |billg@microsoft.com|)
-->
  (succeeded)
}



--------------------------------------------------------------------------------

(source_file
  (ERROR
    (UNEXPECTED 'm')
    (UNEXPECTED 'e')
    (UNEXPECTED 'm')
    (UNEXPECTED 'a')
    (variable)
    (UNEXPECTED 'n')
    (UNEXPECTED 'e')
    (quoted)
    (variable)
    (UNEXPECTED 'o'))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (string)))
      (attrValueTests
        (string)
        (valueTest
          (variable))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (floatConstant))
        (valueMake
          (string))
        (valueMake
          (string)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (string)))
      (attrValueTests
        (string)
        (string)
        (valueTest
          (variable))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (floatConstant))
        (valueMake
          (string))
        (valueMake
          (string)))))
  (production
    (prod_name)
    (condsForOneId
      (condType)
      (idTest
        (variable))
      (attrValueTests
        (string)
        (string)
        (string)
        (valueTest
          (variable))))
    (condsForOneId
      (idTest
        (variable))
      (attrValueTests
        (string)
        (valueTest
          (string)))
      (attrValueTests
        (string)
        (valueTest
          (quoted))))
    (funcCall
      (funcName
        (string)))))
