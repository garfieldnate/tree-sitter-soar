================================================================================
greater than number
================================================================================

sp {greater-than
    (state <s> ^foo > 1)
-->    (<s> ^foo bar)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (string))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string))))))

================================================================================
same-type as variable
================================================================================

sp {same-type
    (state <s> ^foo <=> <x>)
-->    (<s> ^foo bar)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (variable))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string))))))

================================================================================
not equal to quoted string
================================================================================

sp {inequality
    (state <s> ^foo <> |foo bar| )
-->    (<s> ^bar ||)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (quoted))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (quoted))))))

================================================================================
multiple vals
================================================================================

sp {multiple-vals
    (state <s> ^foo 1 b |stuff|)
-->    (<s> ^foo bar)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (quoted)))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string))))))

================================================================================
multiple tests
================================================================================

sp {multiple-tests
    (state <s> ^foo 1 > 0 <=> 45 <> NaN)
-->    (<s> ^foo bar)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (string))))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (string))))))
            (valueTest
              (test
                (simpleTest
                  (relationalTest
                    (relation)
                    (singleTest
                      (string))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (string))))))

================================================================================
conjunction with unary relations
================================================================================

sp {conjunct-rel
    (state <s> ^foo { <= <a> >= <b> })
-->    (<s> ^bar ||)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (conjunctiveTest
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable))))
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable)))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (quoted))))))

================================================================================
conjunction with binary relation
================================================================================

sp {conjunct-binary-rel
    (state <s> ^foo { <a> > <b> })
-->    (<s> ^bar ||)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (conjunctiveTest
                  (simpleTest
                    (singleTest
                      (variable)))
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable)))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (quoted))))))

================================================================================
conjunction with mixed relations
================================================================================

sp {conjunct-mixed-rel
    (state <s> ^foo { <=> <x> > <y> << 1 2 3 4 >> <z> } )
-->    (<s> ^bar ||)
}

--------------------------------------------------------------------------------

(source_file
  (production
    (beginning
      (prod_name))
    (cond
      (positiveCond
        (condsForOneId
          (condType)
          (idTest
            (test
              (simpleTest
                (singleTest
                  (variable)))))
          (attrValueTests
            (attrTest
              (test
                (simpleTest
                  (singleTest
                    (string)))))
            (valueTest
              (test
                (conjunctiveTest
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable))))
                  (simpleTest
                    (relationalTest
                      (relation)
                      (singleTest
                        (variable))))
                  (simpleTest
                    (disjunctionTest
                      (string)
                      (string)
                      (string)
                      (string)))
                  (simpleTest
                    (singleTest
                      (variable))))))))))
    (variableMutation
      (variable)
      (attrValueMake
        (string)
        (valueMake
          (quoted))))))
